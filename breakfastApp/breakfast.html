<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="./reset.css">
    <link rel="stylesheet" href="./pure.css">
    <link rel="stylesheet" href="./custom.css">
    <script src="./jquery.js"></script>
    <title>Hello, world!</title>

</head>

<body>
    <div class="container">
        <div class="menu">
            <div class="type">
                <h2 class="pure-button pure-button-primary">漢堡</h2>
                <ul>
                    <li class="pure-button">低卡蔬菜 35</li>
                    <li class="pure-button">元氣漢堡 35</li>
                    <li class="pure-button">香雞 40</li>
                    <li class="pure-button">培根 40</li>
                    <li class="pure-button">鮪魚 40</li>
                    <li class="pure-button">蜜汁叉燒 45</li>
                    <li class="pure-button">燻雞 45</li>
                    <li class="pure-button">燒肉 50</li>
                    <li class="pure-button">鱈魚 50</li>
                    <li class="pure-button">雞排 50</li>
                    <li class="pure-button">燒雞腿 50</li>
                    <li class="pure-button">勁辣雞腿 50</li>
                    <li class="pure-button">總匯 55</li>
                    <li class="pure-button">富豪牛肉 55</li>
                </ul>
                <div class="special button-secondary pure-button">+ 加蛋 5</div>
            </div>
            <div class="type">
                <h2 class="pure-button pure-button-primary">蛋餅</h2>
                <ul>
                    <li class="pure-button">原味 20</li>
                    <li class="pure-button">起司 30</li>
                    <li class="pure-button">火腿 30</li>
                    <li class="pure-button">肉鬆 30</li>
                    <li class="pure-button">蔬菜 35</li>
                    <li class="pure-button">玉米 40</li>
                    <li class="pure-button">培根 40</li>
                    <li class="pure-button">鮪魚 40</li>
                    <li class="pure-button">叉燒 45</li>
                    <li class="pure-button">燻雞 45</li>
                    <li class="pure-button">燒肉 50</li>
                    <li class="pure-button">總匯 65</li>
                </ul>
            </div>
            <div class="type">
                <h2 class="pure-button pure-button-primary">貝果系列</h2>
                <ul>
                    <li class="pure-button">原味貝果<br><span>(草莓、花生、巧克力)</span> 35</li>
                    <li class="pure-button">藍莓貝果 40</li>
                    <li class="pure-button">吉士火腿 50</li>
                    <li class="pure-button">吉士培根 55</li>
                </ul>
            </div>
            <div class="type">
                <h2 class="pure-button pure-button-primary">烤三明治</h2>
                <ul>
                    <li class="pure-button">土司夾蛋<span>(加黃瓜)</span> 15</li>
                    <li class="pure-button">火腿 25</li>
                    <li class="pure-button">肉鬆 25</li>
                    <li class="pure-button">起司 25</li>
                    <li class="pure-button">低卡蔬菜 30</li>
                    <li class="pure-button">元氣 30</li>
                    <li class="pure-button">香雞 35</li>
                    <li class="pure-button">培根 35</li>
                    <li class="pure-button">鮪魚 35</li>
                    <li class="pure-button">玉米蛋 35</li>
                    <li class="pure-button">燻雞 40</li>
                    <li class="pure-button">蜜汁叉燒 40</li>
                    <li class="pure-button">燒肉 45</li>
                    <li class="pure-button">雞排 45</li>
                    <li class="pure-button">鱈魚 45</li>
                    <li class="pure-button">燒雞腿 45</li>
                    <li class="pure-button">勁辣雞腿 45</li>
                    <li class="pure-button">總匯 50</li>
                    <li class="pure-button">富豪牛肉 50</li>
                </ul>
                <div class="special button-secondary pure-button">+ 加蛋 5</div>
            </div>
            <div class="type">
                <h2 class="pure-button pure-button-primary">吐司/厚片</h2>
                <ul>
                    <li class="pure-button">草莓 15</li>
                    <li class="pure-button">奶酥 15</li>
                    <li class="pure-button">巧克力 15</li>
                    <li class="pure-button">奶油 15</li>
                    <li class="pure-button">花生 15</li>
                    <li class="pure-button">蒜味 20</li>
                    <li class="pure-button">藍莓 20</li>
                </ul>
                <div class="special button-secondary pure-button">+ 厚片 10</div>
            </div>
            <div class="type">
                <h2 class="pure-button pure-button-primary">單品</h2>
                <ul>
                    <li class="pure-button">荷包蛋 10</li>
                    <li class="pure-button">大火腿 10</li>
                    <li class="pure-button">薯餅 15</li>
                    <li class="pure-button">小熱狗 15</li>
                    <li class="pure-button">薯條 20</li>
                    <li class="pure-button">雞塊 35</li>
                    <li class="pure-button">蔥抓餅 30</li>
                    <li class="pure-button">蔥油餅 30</li>
                    <li class="pure-button">蘿蔔糕 30</li>
                    <li class="pure-button">黑胡椒麵 40</li>
                    <li class="pure-button">蘑菇麵 40</li>
                </ul>
                <div class="special button-secondary pure-button">+ 加蛋 5</div>
            </div>
            <div class="type">
                <h2 class="pure-button pure-button-primary">沙拉</h2>
                <ul>
                    <li class="pure-button">田園沙拉 40</li>
                    <li class="pure-button">火腿沙拉 50</li>
                    <li class="pure-button">鮪魚沙拉 50</li>
                    <li class="pure-button">水果沙拉 60</li>
                    <li class="pure-button">主廚沙拉 60</li>
                </ul>
            </div>
            <div class="type">
                <h2 class="pure-button pure-button-primary">超值組合套餐</h2>
                <ul>
                    <li class="pure-button">經濟餐 60</li>
                    <li class="pure-button">風味餐 55</li>
                    <li class="pure-button">燒肉餐 80</li>
                    <li class="pure-button">兒童餐 50</li>
                    <li class="pure-button">燒雞腿餐 85</li>
                    <li class="pure-button">雞排麵餐 95</li>
                    <li class="pure-button">元氣餐 70</li>
                </ul>
            </div>
            <div class="type">
                <h2 class="pure-button pure-button-primary">特選極品</h2>
                <ul>
                    <li class="pure-button">豆漿 15</li>
                    <li class="pure-button">紅茶 15</li>
                    <li class="pure-button">無糖綠茶 15</li>
                    <li class="pure-button">薏仁漿 20</li>
                    <li class="pure-button">奶茶 20</li>
                    <li class="pure-button">檸檬紅茶 20</li>
                    <li class="pure-button">柳橙汁 20</li>
                    <li class="pure-button">可樂 20</li>
                    <li class="pure-button">玉米濃湯 25</li>
                    <li class="pure-button">特調咖啡 25</li>
                    <li class="pure-button">熱可可 25</li>
                    <li class="pure-button">巧克力牛奶 35</li>
                    <li class="pure-button">鮮奶茶 25</li>
                    <li class="pure-button">研磨咖啡 30</li>
                    <li class="pure-button">香濃牛奶 35</li>
                </ul>
                <div class="special button-secondary pure-button">+ 大杯 10</div>
            </div>
        </div>
        <div>
            <h3>所選品項：</h3>
            <ul id="orderList"></ul>
            <h3>總額：</h3>
            <duv id="sum">
        </div>
    </div>
    </div>


    <script>
        $('document').ready(function () {
            $('h2').click(function (e) {
                $(this).parent().find('ul').slideToggle();
                $(this).parent().siblings().find('ul').slideUp();

            })


        })
        let dishes = document.getElementsByTagName('li');
        let special = document.getElementsByClassName('special');
        let orderList = document.getElementById('orderList');
        let sum = document.getElementById('sum');
        let items = [];
        let total = 0;
        for (element of dishes) {
            element.addEventListener('click', handleClickedMenu);
        }
        for (element of special) {
            element.addEventListener('click', handleClickedMenu);

        }

        function handleClickedMenu(e) {
            items.push(e.target.innerText);
            orderList.innerHTML += `<li class="pure-button" onclick="remove(this)">${e.target.innerText}</li>`;
            let temp = parseInt(e.target.innerText.replace(/\D/g, ""));
            total += temp;
            sum.innerText = total;
        }
        function remove(e) {
            total = 0;
            for (let i = 0; i < items.length; i++) {
                if (items[i] == e.innerText) {
                    items.splice(i, 1);
                    e.remove();
                    break;
                }
            }
            items.forEach((element) => {
                let temp = parseInt(element.replace(/\D/g, ""));
                total += temp;
                sum.innerText = total;
            })
            if(items.length === 0) sum.innerText = 0;
        }


    </script>

</body>

</html>